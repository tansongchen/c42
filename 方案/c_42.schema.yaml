# Rime schema settings
# encoding: utf-8

schema:
  schema_id: c_42
  name: "Cå››äºŒ"
  version: "2.4"
  author:
    - Cicinï¼ˆ15.02.05ç‰ˆï¼‰
    - è“è½è§æ”¹ç¼–
  description: |
    æ”¹ç¼–è‡ª Cicin æ‰€ä½œçš„ C è¾“å…¥ï¼Œå–å‰ 3 ç ä¸ºå…¨ç ï¼Œ4 ç é¡¶ 2 ç ä¸Šå±
  dependencies:
    - c_42a
    - pinyin_simp
    - stroke
 

switches:
  - name: ascii_mode
    reset: 0
    states: [ ä¸­, è¥¿ ]
  - name: full_shape
    states: [ åŠ, å…¨ ]
  - name: ascii_punct
    states: [ ã€‚, ï¼ ]
  - name: zh_trad
    reset: 0
    states: [ ç®€, ç¹ ]
  - name: emoji_suggestion
    states: [ "ğŸˆšï¸ï¸\uFE0E", "ğŸˆ¶ï¸ï¸\uFE0F" ]
    reset: 0
  - name: phrase_prediction
    states: [ å•, è¯ ]
    reset: 0
  - name: brevity_code_suggestion
    states: [ æ— , ç®€ ]
    reset: 0
  - name: brevity_code_suggestion2
    states: [ æ— , è¯ ]
    reset: 0
  - name: division_suggestion
    states: [ æ— , æ‹† ]
    reset: 0


engine:
  processors:
    - ascii_composer
    - recognizer
    - key_binder
    - speller
    - punctuator
    - selector
    - navigator
    - express_editor
  segmentors:
    - ascii_segmentor
    - matcher
    - abc_segmentor
    - affix_segmentor@assist
    - affix_segmentor@reverse_lookup
    - affix_segmentor@pinyin_lookup
    - affix_segmentor@bihua_lookup
    - punct_segmentor
    - fallback_segmentor
  translators:
    - punct_translator
    - reverse_lookup_translator
    - table_translator
    - script_translator@assist
    - script_translator@pinyin_lookup
    - script_translator@bihua_lookup
  filters:
    - simplifier@brevity_code_suggestion
    - simplifier@emoji_suggestion
    - simplifier@phrase_prediction
    - simplifier@brevity_code_suggestion2
    - simplifier@division_suggestion
    - simplifier@zh_trad
    - reverse_lookup_filter@pinyin_reverse_lookup
    - reverse_lookup_filter@bihua_reverse_lookup
    
speller:
  alphabet: "qwertasdfgzxcvbyuiophjkl;nm,./"
  initials: "qwertasdfgzxcvbyuiophjkl;nm"
  auto_select: true

translator:
  dictionary: c_42
  enable_charset_filter: true
  enable_sentence: false
  enable_encoder: false
  encode_commit_history: false
  enable_user_dict: false
  enable_completion: false

# æ»¤é•œ
brevity_code_suggestion:
  opencc_config: brevity.json
  option_name: brevity_code_suggestion
  tips: all
  show_in_comment: true
  comment_format:
    - xform/^(?!~)/äºŒç®€ã€”/
    - xform/^~~/æ— ç†ã€”/
    - xform/^~/é‡ç ã€”/
    - xform/$/ã€•/
  tags:
    - assist

division_suggestion:
  opencc_config: division.json
  option_name: division_suggestion
  tips: all
  show_in_comment: true
  comment_format:
    - xform/^/ã€”/
    - xform/$/ã€•/

brevity_code_suggestion2:
  opencc_config: brevity2.json
  option_name: brevity_code_suggestion2
  tips: all
  show_in_comment: true
  comment_format:
    - xform/^/ç®€è¯ã€”/
    - xform/$/ã€•/
  tags:
    - abc

phrase_prediction:
  opencc_config: phrase.json
  option_name: phrase_prediction
  tips: none
  tags:
    - abc

zh_trad:
  opencc_config: s2tw.json
  option_name: zh_trad

emoji_suggestion:
  opencc_config: emoji.json
  option_name: emoji_suggestion
  tips: all
  tags:
    - abc
    - pinyin_lookup

# å‰¯ç¿»è¯‘å™¨
assist:
  tag: assist
  dictionary: c_42a

pinyin_lookup:
  tag: pinyin_lookup
  dictionary: pinyin_simp
  tips: "ã€”æ‹¼éŸ³ã€•"

bihua_lookup:
  tag: bihua_lookup
  dictionary: stroke
  tips: "ã€”ç¬”ç”»ã€•"

# åæŸ¥
reverse_lookup: 
  tag: reverse_lookup
  prefix: "`"
  suffix: ";"
  tips: "ã€åæŸ¥ã€‘"
  extra_tags:
    - pinyin_lookup
    - bihua_lookup

pinyin_reverse_lookup:
  tags: [ pinyin_lookup ] 
  overwrite_comment: true
  dictionary: c_42a
  comment_format:
    - "xform/$/ã€•/"
    - "xform/^/ã€”/"

bihua_reverse_lookup:
  tags: [ bihua_lookup ] 
  overwrite_comment: true
  dictionary: c_42a
  comment_format:
    - "xform/$/ã€•/"
    - "xform/^/ã€”/"
    - "xform/~//"

# æ ‡ç‚¹
punctuator:
  import_preset: symbols_for_c
  half_shape:
    ",": { commit: "ï¼Œ" }
    ".": { commit: "çš„" }
    "/": { commit: "ã€‚" }
    '<' : { commit: "ã€Š" }
    '>' : { commit: "ã€‹" }
    '?' : { commit: ï¼Ÿ }
    ';' : { commit: ï¼› }
    ':' : { commit: ï¼š }
    '''' : { pair: [ 'â€˜', 'â€™' ] }
    '"' : { pair: [ 'â€œ', 'â€' ] }
    '\' : { commit: ã€ }
    '|' : { commit: ï½œ }
    '`' : ["Â·", "ï½œ", "Â§", "Â¦"]
    '~' : [ '~', ï½ ]
    '!' : { commit: ï¼ }
    '^' : { commit: â€¦â€¦ }
    '(' : ï¼ˆ
    ')' : ï¼‰
    '-' : '-'
    '_' : â€”â€”
    '+' : '+'
    '=' : '='
    '[' : { commit: ã€ }
    ']' : { commit: ã€‘ }
    '{' : { commit: ï½› }
    '}' : { commit: ï½ }

# æ‚é¡¹
recognizer:
  patterns:
    assist: "^[a-z;]{3}$"
    reverse_lookup: "^`[a-z]*'?$"
    punct: "^~([0-9]0?|[A-Za-z]+)$"

key_binder:
  bindings:
    - { when: has_menu, accept: 0, send: 2}
    - { when: has_menu, accept: 9, send: 3}
    - { when: has_menu, accept: 8, send: 4}
    - { when: has_menu, accept: 7, send: 5}

menu:
  page_size: 10
